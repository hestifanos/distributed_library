<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Distributed Library System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        :root {
            --bg: #0f172a;
            --bg-alt: #020617;
            --card-bg: #0b1220;
            --accent: #38bdf8;
            --accent-soft: rgba(56, 189, 248, 0.15);
            --text: #e5e7eb;
            --text-muted: #9ca3af;
            --border-subtle: rgba(148, 163, 184, 0.25);
            --danger: #f97373;
            --success: #4ade80;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
                sans-serif;
            background: radial-gradient(circle at top, #1f2937 0, #020617 55%);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .page {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px 24px 48px;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 32px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 40px;
            height: 40px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 30%, #38bdf8, #0ea5e9 45%, #0f172a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #e0f2fe;
            font-weight: 700;
            font-size: 20px;
            box-shadow: 0 0 25px rgba(56, 189, 248, 0.6);
        }

        .brand-text-title {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: 0.02em;
        }

        .brand-text-sub {
            font-size: 12px;
            color: var(--text-muted);
        }

        .pill {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.14em;
            padding: 6px 11px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: var(--text-muted);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .pill-dot {
            width: 7px;
            height: 7px;
            border-radius: 999px;
            background: #22c55e;
        }

        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        /* Hero --------------------------------------------------------- */
        .hero {
            display: grid;
            grid-template-columns: minmax(0, 2fr) minmax(0, 1.5fr);
            gap: 24px;
            align-items: stretch;
        }

        @media (max-width: 800px) {
            .hero {
                grid-template-columns: minmax(0, 1fr);
            }
            header {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        .hero-title {
            font-size: clamp(26px, 4vw, 32px);
            font-weight: 650;
            line-height: 1.2;
            margin-bottom: 8px;
        }

        .hero-highlight {
            background: linear-gradient(120deg, #38bdf8, #a855f7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            max-width: 460px;
            margin-bottom: 18px;
        }

        .hero-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 18px;
        }

        .btn {
            border-radius: 999px;
            padding: 9px 18px;
            font-size: 13px;
            font-weight: 500;
            border: 1px solid transparent;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            transition: transform 0.12s ease-out, box-shadow 0.12s ease-out,
                background 0.12s ease-out, border-color 0.12s ease-out;
        }

        .btn-primary {
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
            color: #0b1120;
            box-shadow: 0 8px 25px rgba(56, 189, 248, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 30px rgba(56, 189, 248, 0.55);
        }

        .btn-secondary {
            background: rgba(15, 23, 42, 0.9);
            color: var(--text);
            border-color: rgba(148, 163, 184, 0.5);
        }

        .btn-secondary:hover {
            border-color: rgba(148, 163, 184, 0.9);
            background: rgba(15, 23, 42, 0.95);
        }

        .hero-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .hero-meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .hero-meta-dot {
            width: 6px;
            height: 6px;
            border-radius: 999px;
            background: var(--accent);
        }

        /* Right side "status card" ------------------------------------ */
        .hero-panel {
            border-radius: 20px;
            padding: 16px 16px 14px;
            background: radial-gradient(circle at top left, #1d283a 0, #020617 70%);
            border: 1px solid rgba(148, 163, 184, 0.25);
            box-shadow: 0 18px 40px rgba(15, 23, 42, 0.8);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .panel-title {
            font-size: 13px;
            font-weight: 500;
        }

        .status-pill {
            font-size: 11px;
            padding: 4px 9px;
            border-radius: 999px;
            background: rgba(22, 163, 74, 0.14);
            color: var(--success);
            border: 1px solid rgba(34, 197, 94, 0.35);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 7px;
            height: 7px;
            border-radius: 999px;
            background: var(--success);
        }

        .panel-grid {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 10px;
            margin-bottom: 12px;
        }

        .stat-card {
            border-radius: 16px;
            padding: 10px 10px 9px;
            background: linear-gradient(
                135deg,
                rgba(15, 23, 42, 0.6),
                rgba(15, 23, 42, 0.2)
            );
            border: 1px solid var(--border-subtle);
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 15px;
            font-weight: 600;
        }

        .stat-tag {
            margin-top: 4px;
            font-size: 10px;
            padding: 1px 8px;
            border-radius: 999px;
            background: rgba(15, 23, 42, 0.7);
            color: var(--accent);
            display: inline-block;
        }

        .mini-table {
            margin-top: 6px;
            border-radius: 14px;
            border: 1px solid rgba(55, 65, 81, 0.7);
            overflow: hidden;
            background: rgba(15, 23, 42, 0.85);
        }

        .mini-table-header,
        .mini-table-row {
            display: grid;
            grid-template-columns: 1.6fr 1fr 1fr;
            font-size: 11px;
        }

        .mini-table-header {
            background: rgba(15, 23, 42, 0.96);
            color: var(--text-muted);
            border-bottom: 1px solid rgba(55, 65, 81, 0.8);
        }

        .mini-table-cell {
            padding: 6px 9px;
        }

        .mini-table-row:nth-child(odd) {
            background: rgba(15, 23, 42, 0.6);
        }

        .mini-table-row:nth-child(even) {
            background: rgba(15, 23, 42, 0.3);
        }

        .status-chip {
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            display: inline-block;
        }

        .status-chip.ok {
            border-color: rgba(34, 197, 94, 0.7);
            color: var(--success);
        }

        .status-chip.warn {
            border-color: rgba(234, 179, 8, 0.7);
            color: #facc15;
        }

        /* Borrow flow section ----------------------------------------- */
        .borrow-flow {
            border-radius: 20px;
            padding: 18px 18px 20px;
            background: linear-gradient(
                135deg,
                rgba(15, 23, 42, 0.95),
                rgba(15, 23, 42, 0.9)
            );
            border: 1px solid rgba(148, 163, 184, 0.35);
            display: grid;
            grid-template-columns: minmax(0, 1.8fr) minmax(0, 1.4fr);
            gap: 20px;
        }

        @media (max-width: 900px) {
            .borrow-flow {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .borrow-copy-title {
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .borrow-copy-text {
            font-size: 12px;
            color: var(--text-muted);
            max-width: 520px;
        }

        .borrow-steps {
            margin-top: 10px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .borrow-steps li {
            margin-left: 16px;
            margin-bottom: 4px;
        }

        .borrow-card {
            border-radius: 16px;
            padding: 14px 14px 12px;
            background: radial-gradient(circle at top, #111827 0, #020617 70%);
            border: 1px solid rgba(148, 163, 184, 0.4);
        }

        .borrow-card-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .borrow-field-label {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .borrow-input-row {
            display: flex;
            gap: 8px;
            margin-bottom: 6px;
        }

        .borrow-input-row input {
            flex: 1;
            border-radius: 999px;
            border: 1px solid rgba(55, 65, 81, 0.9);
            background: rgba(15, 23, 42, 0.9);
            color: var(--text);
            font-size: 13px;
            padding: 8px 10px;
            outline: none;
        }

        .borrow-input-row input::placeholder {
            color: rgba(148, 163, 184, 0.7);
        }

        .borrow-login-status {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
            min-height: 14px;
        }

        .borrow-next {
            margin-top: 10px;
            font-size: 12px;
        }

        .borrow-next span {
            opacity: 0.8;
        }

        /* Simple info tiles at the bottom ------------------------------ */
        .features {
            border-radius: 20px;
            padding: 20px 18px;
            background: linear-gradient(
                135deg,
                rgba(15, 23, 42, 0.95),
                rgba(15, 23, 42, 0.9)
            );
            border: 1px solid rgba(148, 163, 184, 0.3);
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 18px;
        }

        @media (max-width: 800px) {
            .features {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .feature {
            padding-right: 8px;
        }

        .feature-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .feature-desc {
            font-size: 11px;
            color: var(--text-muted);
        }

        footer {
            margin-top: auto;
            padding: 10px 16px 16px;
            font-size: 11px;
            color: var(--text-muted);
            border-top: 1px solid rgba(31, 41, 55, 0.9);
            background: linear-gradient(to top, #020617, rgba(15, 23, 42, 0.2));
        }

        .footer-inner {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="page">
        <header>
            <div class="brand">
                <div class="logo">DL</div>
                <div>
                    <div class="brand-text-title">Distributed Library System</div>
                    <div class="brand-text-sub">
                        Centralized catalog · Synchronized branches · Real-time stock
                    </div>
                </div>
            </div>

            <div class="pill">
                <span class="pill-dot"></span>
                Central service · Dev environment
            </div>
        </header>

        <main>
            <!-- Hero --------------------------------------------------- -->
            <section class="hero">
                <div>
                    <h1 class="hero-title">
                        Keep every branch in
                        <span class="hero-highlight">perfect sync.</span>
                    </h1>
                    <p class="hero-subtitle">
                        This dashboard fronts your distributed library backend: a central
                        catalog with synchronized branch inventories and real-time book
                        availability. Use it as an admin console, a demo UI, or a base
                        for your full frontend.
                    </p>

                    <div class="hero-actions">
                        <a href="catalog.html" class="btn btn-primary">
                            Open catalog view
                        </a>
                        <a href="branches.html" class="btn btn-secondary">
                            Branch overview
                        </a>
                        <!-- Borrow CTA -->
                        <button type="button" class="btn btn-secondary" id="borrow-cta">
                            Borrow a book
                        </button>
                    </div>

                    <div class="hero-meta">
                        <div class="hero-meta-item">
                            <span class="hero-meta-dot"></span>
                            <span>Backed by Flask + your API routes</span>
                        </div>
                        <div class="hero-meta-item">
                            <span class="hero-meta-dot"></span>
                            <span>Ready for integration with branch_service</span>
                        </div>
                    </div>
                </div>

                <!-- Right panel: System snapshot -->
                <div class="hero-panel">
                    <div class="panel-header">
                        <div class="panel-title">System snapshot</div>
                        <div class="status-pill">
                            <span class="status-dot"></span>
                            Healthy
                        </div>
                    </div>

                    <div class="panel-grid">
                        <div class="stat-card">
                            <div class="stat-label">Registered branches</div>
                            <div class="stat-value" id="stat-branches">0</div>
                            <div class="stat-tag">Synced with central</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Titles in catalog</div>
                            <div class="stat-value" id="stat-titles">0</div>
                            <div class="stat-tag">Global index</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Active reservations</div>
                            <div class="stat-value" id="stat-reservations">0</div>
                            <div class="stat-tag">Across all branches</div>
                        </div>
                    </div>

                    <div class="mini-table">
                        <div class="mini-table-header">
                            <div class="mini-table-cell">Branch</div>
                            <div class="mini-table-cell">Sync</div>
                            <div class="mini-table-cell">Status</div>
                        </div>
                        <div id="mini-table-body"></div>
                    </div>
                </div>
            </section>

            <!-- Borrow flow section ------------------------------------ -->
            <section class="borrow-flow" id="borrow-flow">
                <div>
                    <div class="borrow-copy-title">Borrow a book</div>
                    <p class="borrow-copy-text">
                        Start here if you’re a library patron. Log in with your library
                        ID, then jump straight into the catalog to search for a title and
                        choose the branch you want to borrow from.
                    </p>
                    <ul class="borrow-steps">
                        <li><strong>Step 1:</strong> Enter your library ID and sign in.</li>
                        <li><strong>Step 2:</strong> Search the global catalog for a title, author, or ISBN.</li>
                        <li><strong>Step 3:</strong> Pick a branch with copies available and confirm the loan.</li>
                    </ul>
                </div>

                <div class="borrow-card">
                    <div class="borrow-card-title">Sign in to get started</div>

                    <div class="borrow-field-label">Library user ID</div>
                    <div class="borrow-input-row">
                        <input
                            id="loginUser"
                            type="text"
                            placeholder="e.g. user-12345"
                            autocomplete="off"
                        />
                        <button type="button" class="btn btn-primary" onclick="login()">
                            Log in
                        </button>
                    </div>

                    <div class="borrow-login-status" id="loginResult">
                        Enter your ID and press “Log in”.
                    </div>

                    <a href="catalog.html" class="btn btn-secondary borrow-next">
                        Search for a book <span></span>
                    </a>
                </div>
            </section>

            <!-- Helpful info tiles ------------------------------------- -->
            <section class="features">
                <div class="feature">
                    <div class="feature-title">How borrowing works</div>
                    <p class="feature-desc">
                        Once you’re signed in, the catalog shows availability at every
                        branch. Choose a branch with copies on the shelf and confirm the
                        loan. Each branch’s own service updates the central catalog in
                        real time as books are borrowed and returned.
                    </p>
                </div>
                <div class="feature">
                    <div class="feature-title">Searching the catalog</div>
                    <p class="feature-desc">
                        You can search by title, author, or ISBN. Results show one row per
                        book, with badges for each branch that holds copies. Green badges
                        mean there are copies available right now.
                    </p>
                </div>
                <div class="feature">
                    <div class="feature-title">What this demo shows</div>
                    <p class="feature-desc">
                        Behind the scenes, multiple branch services talk to this central
                        service. Network hiccups, retries, and eventual consistency are
                        all simulated so you can see how a distributed library behaves in
                        practice.
                    </p>
                </div>
            </section>
        </main>
    </div>

    <footer>
        <div class="footer-inner">
            <div>Distributed Library System · Central service frontend</div>
            <div>
                Running on Flask · Modify
                <code>main.js</code>, <code>catalog.js</code> and
                <code>branches.js</code> to add logic.
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
</body>
</html>
